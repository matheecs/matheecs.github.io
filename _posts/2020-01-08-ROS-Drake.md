---
layout: post
title: "ROS vs. Drake"
categories: study
author: "Jixiang Zhang"
---
**CMake vs. Bazel**

文件结构：
```
└──bazel-cpp-tutorial
   ├── main
   │   ├── BUILD
   │   ├── hello-world.cc
   │   ├── hello-greet.cc
   │   └── hello-greet.h
   ├── lib
   │   ├── BUILD
   │   ├── hello-time.cc
   │   └── hello-time.h
   └── WORKSPACE
```

`lib/BUILD`文件：
```
cc_library(
    name = "hello-time",
    srcs = ["hello-time.cc"],
    hdrs = ["hello-time.h"],
    visibility = ["//main:__pkg__"],
)
```

`main/BUILD`文件：
```
cc_library(
    name = "hello-greet",
    srcs = ["hello-greet.cc"],
    hdrs = ["hello-greet.h"],
)

cc_binary(
    name = "hello-world",
    srcs = ["hello-world.cc"],
    deps = [
        ":hello-greet",
        "//lib:hello-time",
    ],
)
```

编译：
```bash
bazel build //main:hello-world
```
执行：
```bash
bazel-bin/main/hello-world
```
生成依赖关系图：
```bash
xdot <(bazel query --notool_deps --noimplicit_deps 'deps(//main:hello-world)' --output graph)
```
![cpp-tutorial-stage3](https://tvax2.sinaimg.cn/large/d494c514ly1gaplrif9kyj20fa0773zb.jpg)

**ROS vs. LCM**

**RViz vs. drake_visualizer**
![](https://tva3.sinaimg.cn/large/d494c514ly1gapkw8s51oj21z216awpx.jpg)
![out](https://tva3.sinaimg.cn/large/d494c514ly1gapapdzca4g20xc0m84qu.gif)

**参考文献**

- [Drake Tutorial](https://drake.guzhaoyuan.com/)
- [Bazel build system](https://drake.mit.edu/bazel.html)
- [Introduction to Bazel: Building a C++ Project](https://docs.bazel.build/versions/master/tutorial/cpp.html)
- [Working with external dependencies](https://docs.bazel.build/versions/master/external.html)
- [Introduction to Bazel: Common C++ Build Use Cases](https://docs.bazel.build/versions/master/cpp-use-cases.html)