---
layout: post
title: "OCS2 求解器入门"
categories: study
author: "Jixiang Zhang"
---

### Introduction

[OCS2](https://github.com/leggedrobotics/ocs2) 是一个 MPC 实时求解器 (SLQ/iLQR)，依赖 [Pinocchio](https://github.com/stack-of-tasks/pinocchio) 构建机器人动力学模型，采用 RViz 或者 RaiSim 验证 (Rollout)。

### OCP Formulation -> RobotInterface

- Cost
- Dynamics
- Rollout
- Initialization

**MpcRosInterface** + **MrtRosInterface**

{**MPC node**} -> {**MRT Dummy simulator** Rollout w/ Visualization}

### Demo: Legged Robot

Code Structure

![](/images/ocs2_legged_robot.png)

Visulization

![](/images/ocs2_vis.png)

ROS Graph

![](/images/ocs2_graph.png)

RosReferenceManager 类的作用: Decorates ReferenceManager with ROS subscribers to receive **ModeSchedule** and **TargetTrajectories** through ROS messages.

SolverSynchronizedModule 类的作用: A Solver synchronized module is updated once before and once after a problem is solved.