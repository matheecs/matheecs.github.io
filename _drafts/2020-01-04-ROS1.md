---
layout: post
title: "ROS1底层细节"
categories: study
author: "Jixiang Zhang"
---

原文：[ROS/Technical Overview](http://wiki.ros.org/ROS/Technical%20Overview)

#### 主节点

主节点采用 **XMLRPC** 实现。主节点为发布者、订阅者和服务提供者提供需**注册** APIs。主节点的统一资源标识符存储在 `ROS_MASTER_URI`，对应正在运行的 XML-RPC server 服务器，默认端口是 `11311`。

#### 参数服务器

#### 节点

#### 话题传输

- [TCP](http://wiki.ros.org/ROS/TCPROS)
- [UDP](http://wiki.ros.org/ROS/UDPROS)

#### 消息串行化与 MD5

#### 话题连接的步骤

1. Subscriber starts. It reads its command-line remapping arguments to resolve which topic name it will use. (Remapping Arguments)
2. Publisher starts. It reads its command-line remapping arguments to resolve which topic name it will use. (Remapping Arguments)
3. Subscriber registers with the Master. (XMLRPC)
4. Publisher registers with the Master. (XMLRPC)
5. Master informs Subscriber of new Publisher. (XMLRPC)
6. Subscriber contacts Publisher to request a topic connection and negotiate the transport protocol. (XMLRPC)
7. Publisher sends Subscriber the settings for the selected transport protocol. (XMLRPC)
8. Subscriber connects to Publisher using the selected transport protocol. (TCPROS, etc...)
   ![话题连接的步骤](https://tvax4.sinaimg.cn/large/d494c514ly1gale4ygbwaj20d80a2t9x.jpg)

#### 服务连接的步骤

1. Service registers with Master
2. Service client looks up service on the Master
3. Service client creates TCP/IP to the service
4. Service client and service exchange a Connection Header
5. Service client sends serialized request message
6. Service replies with serialized response message.

**参考文献**

- [XML-RPC - Introduction](https://www.tutorialspoint.com/xml-rpc/xml_rpc_intro.htm)